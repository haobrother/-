# 版本控制流程

在前端开发领域,我们采用主流的Git作为项目的版本管理,主要的问题是在协助开发时候使用哪种工作流程来提交代码,目前市场上已形成规范的一些Git工作流可以了解下:

- **基础的集中式**

  类似SVN的集中式工作流,所有开发成员基于一个master分支来开发,使用一个远程仓库来作为本地版本库的入口,特点是简单,学习成本低,适用于小型项目.缺点是所有代码(不管好坏)都往master上丢,导致master分支不稳定,无法随时基于master构建和发布一个稳定版本出来.

- **功能分支工作流**

  基于集中式的工作流,在有新的功能特性开发时,创建新的功能分支(feature1,feature2...),等到功能分支的代码确定完成并经过测试后,再合并入主干分支.相比集中式,这种方式保持了master的干净,隔离多个开发者在各自开发中的功能不影响主干代码.

- **Git Flow**

  Git Flow工作流基于功能分支工作流,定义了各位严格的分支模型,包含主干分支(master)、开发分支(develop)、bug分支(bug/D20200807-13)、功能分支(feacture1、feacture2...)和发布分支(release),这个后面详细说.

- **Fork/Pull Request工作流**

  一种分布式工作流,它充分利用了Git在分支和克隆的优势,可以安全可靠地管理大团队的开发者,并能接受不受信用贡献者的提交,像Github和Gitlab这样的开源平台就是使用这个工作流来管理开源项目.

- **Github Flow**

  Git Flow的简化版,只有一个master分支,目的是保持线上生产环境与最新主干分支的代码尽量一致,专为持续发布型项目准备.

- **GitLab Flow**

  综合Git Flow和Github Flow,也是只有一个master分支,它是其他分支的上游,只有上游分支采纳的代码变化才能应用到其他分支(预发布分支和生产环境分支),这种模式同时支持持续发布型和版本发布型项目.



## Git Flow流程

我们主要采用**Git Flow**来进行版本管理工作流,它的分支模型如下:

![image-20200807174336668](https://img.liewenbank.com/git_flow.png)

Git Flow采用了多分支的方式进行开发,其中只有**master**和**develop**分支会一直存在.

对于**master**分支,这是一个稳定的分支,表示正式发布的历史记录,所有对外正式版本的发布都会合并到这里,并打上版本标签(tag).

对于**develop**分支,这是专门用来整合功能的分支,代表最新的开发代表